# Task from job interview

Вам предлагается задача на умение писать и отлаживать цепочные преобразование данных (pipeline вычисления)

## Введение

Одну из наших систем можно описать как pipeline, где идет преобразование одного JSON в другой.

От соискателя мы желаем увидеть понимание построение и отладки таких решений - написать такой pipeline в миниатюре, а потом описать способ отладки.

## Задание

Написать пример цепочного вычисления (Шаг 1), а затем показать как его можно отлаживать (Шаг 2).

### Шаг 1 - написать PING PONG pipeline

Вам необходимо написать 2 примитивных сервиса на Fast API, которые реализуют PING PONG.

* Сервисы по POST принимают JSON с словарем.
* Сервис А добавляет в ключ "digits" случайное целое число (с 0 до 100)
* Сервис B считает на основе массива “digits” среднее, максимум и минимум и кладет в ключи avg, max, min.
* Сервисы кидают по очереди кидают запросы друг в друга, пока \
  Получается PING PONG, где в словарь постепенно добавляются значения.
* Каждый сервис имеет валидацию данных.\
Для эмуляции валидации, предлагаем при обработке запроса выдавать 400 ошибку, если случайное число от 0 до 10 делится на 3.
* PING PONG заканчивается, когда один из сервисов отдает 400-ую ошибку

### Шаг 2 - описать как отлаживать pipeline

1. Предложите варианты отладки pipeline, который написали на шаге 1:

* Когда есть доступ до кода (разработчику)
* Когда нет доступа до кода (QA)

Примечание: Основная цель отладке, понять в какой момент прервался pipeline и state на этот момент.

2. Какую дополнительную мета-информацию стоит добавить, чтобы упростить отладку?
Ожидаемый результат

В результате тестового задания ожидается:
* Ссылка на gitlab/github репозиторий с реализацией pipeline. \
  Рекомендуем писать код с расчетом запуска в Docker контейнерах. 
* В репозитории должен лежать README.md файл с описанием подхода к отладке.

# How to run
```bash
make up

# run tests:
make tests

# static check of code:
make static_check
```

# How to debug
## Having access to source code
## Without access to source code
